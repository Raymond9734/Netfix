{% extends 'main/base.html' %}

{% block title %}
    User Profile
{% endblock %}

{% block content %}
    {% if user.is_customer %}
        <div id="customerProfile" class="profile-section">
            <img src="https://websim.example.com/images/default-avatar.svg" alt="Customer profile photo" class="profile-photo" id="customerPhoto">
            <div class="profile-info">
                <h2 id="customerName">{{ user.username }} ({{user_age}} y/o)</h2>
                <p id="customerEmail">{{ user.email }}</p>
            </div>
            <div class="profile-description">
                <p id="customerDescription">A brief description of the customer goes here.</p>
            </div>
            <div class="form-group">
                <label for="customerPreferences">Service Preferences:</label>
                <textarea id="customerPreferences" rows="3"></textarea>
            </div>
            <div class="service-suggestions">
                <h3>Suggested Services</h3>
                <div id="serviceSuggestions">
                    {% for service in sh %}
                        <div>
                            <a href="/services/{{service.service.id}}">{{service.service.name}}</a> ({{service.service.field}})
                            <p style="margin: 0; display: inline-block;">❱❱ {{service.price}}</p>
                            <p style="margin: 0; display: inline-block;">❱❱ {{ service.request_date }}</p>
                            <p style="float: right; margin: 0;">
                                by <a href="/company/{{service.service.company.user}}">{{service.service.company.user}}</a>
                            </p> 
                        </div>
                        <div class="line"></div>
                    {% endfor %}
                </div>
            </div>
            <button id="editCustomerProfile" class="button">Edit Profile</button>
            <button id="viewServices" class="button">View Services</button>
            <button id="customerLogout" class="button">Logout</button>
        </div>
    {% else %}
        <p>You are not authorized to view this page.</p>
    {% endif %}
{% endblock %}
