{% extends 'base.html' %}

{% block title %}User Profile - Service Request{% endblock %}
{% load static %}
{% block extra_css %}
<link href="{% static 'css/customer_profile.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
    
    <div class="container3">
        <div class="profile-card">
            <div class="profile-header">
                <img src="{% static 'images/user.jpg' %}" alt="User profile picture" class="profile-img" width="150" height="150">
                <h2 class="profile-name">Hi, {{ user.username }}</h2>
            </div>
            <div class="profile-info">
                <div class="info-item">
                    <div class="info-label">Email</div>
                    <div class="info-value">{{ user.email }}</div>
                </div>
                <!-- <div class="info-item">
                    <div class="info-label">Phone</div>
                    <div class="info-value">{{ user.profile.phone }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Address</div>
                    <div class="info-value">{{ user.profile.address }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Member Since</div>
                    <div class="info-value">{{ user.date_joined|date:"F d, Y" }}</div>
                </div> -->
            </div>
        </div>
        
        <div class="service-history">
            <h3>Service Request History</h3>
            {% for service in user.service_requests.all %}
                <div class="service-item">
                    <h4 class="service-title">{{ service.title }}</h4>
                    <p>{{ service.description }}</p>
                    <div class="service-date">Completed on: {{ service.completed_on|date:"F d, Y" }}</div>
                </div>
            {% empty %}
                <p>No service history available.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
