{% extends 'base.html' %}

{% block title %}User Profile - Service Request{% endblock %}
{% load static %}
{% block extra_css %}
<link href="{% static 'css/customer_profile.css' %}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container3">
    <div class="profile-card">
        <div class="profile-header">
            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="User profile picture" class="profile-img" width="150" height="150">
            <h2 class="profile-name">Hi, {{ user.username }}</h2>
            <h3 class="profile-age">{{ age }}yrs</h3>
        </div>
        <div class="profile-info">
            <div class="info-item">
                <div class="info-label">Email</div>
                <div class="info-value">{{ user.email }}</div>
            </div>
        </div>
    </div>
    
    <div class="service-history">
        <h3>Service Request History</h3>
        {% for service in service_requests %}
            <div class="service-item">
                <h4 class="service-title">{{ service.service_field }}</h4>
                <h5>Service Name: {{ service.service_name }}</h5>
                <p>Service requested at: {{ service.address }}</p>
                <p>Service Time: {{ service.service_time_hours }} hours</p>
                <p>Status: {{ service.status }}</p>
                <div class="service-date">Requested on: {{ service.requested_at|date:"F d, Y" }}</div>
            </div>
        {% empty %}
            <p>No service history available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
